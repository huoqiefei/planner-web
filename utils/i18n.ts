
import { useState, useEffect } from 'react';

// Simple translation hook
export const translations = {
    en: {
        File: 'File',
        New: 'New',
        Import: 'Import...',
        ImportJSON: 'Import JSON',
        OpenFromCloud: 'Open from Cloud...',
        SaveToCloud: 'Save to Cloud...',
        Export: 'Export...',
        ExportJSON: 'Export JSON',
        Print: 'Print',
        PrintPreview: 'Print Preview',
        Edit: 'Edit',
        Copy: 'Copy',
        Cut: 'Cut',
        Paste: 'Paste',
        AccountSettings: 'Account Settings...',
        UserPreferences: 'User Preferences...',
        ColumnsSetup: 'Columns Setup...',
        Project: 'Project',
        Activities: 'Activities',
        Resources: 'Resources',
        Calendars: 'Calendars',
        ProjectInfo: 'Project Information...',
        System: 'System',
        Configuration: 'System Configuration',
        Help: 'Help',
        About: 'About Planner Web',
        General: 'General',
        Defaults: 'Defaults',
        DateFormat: 'Date Format',
        Language: 'Interface Language',
        InterfaceSize: 'Interface Size',
        CustomFontSize: 'Custom Font Size (px)',
        Small: 'Small (Compact)',
        Medium: 'Medium',
        Large: 'Large',
        GanttSettings: 'Gantt Chart Settings',
        ShowVertical: 'Show Vertical Lines',
        VerticalInterval: 'Vertical Interval',
        Auto: 'Auto',
        EveryMonth: 'Month',
        EveryQuarter: 'Quarter',
        EveryYear: 'Year',
        ShowHorizontal: 'Show Horizontal Lines',
        ShowWBS: 'Show WBS Separators',
        Cancel: 'Cancel',
        Save: 'Save',
        Confirm: 'Confirm',
        OK: 'OK',
        Success: 'Success',
        AccessDenied: 'Access Denied',
        AccessDeniedMsg: 'Access Denied. Please upgrade your plan.',
        DeleteWBSPrompt: 'Delete WBS and all its activities?',
        UnsavedPrompt: 'Unsaved changes. Continue?',
        PageSetup: 'Page Setup',
        PaperSize: 'Paper Size',
        Orientation: 'Orientation',
        Landscape: 'Landscape',
        Portrait: 'Portrait',
        PrintNote: 'Note: Content auto-scales to width. Vertical scrolling supported.',
        BatchAssign: 'Batch Assign Resources',
        SelectRes: 'Select Resources',
        UnitsPerDay: 'Units per Day / Total Qty',
        Assign: 'Assign',
        ProjectSettings: 'Project Settings',
        ProjectCode: 'Project Code',
        ProjectName: 'Project Name',
        StartDate: 'Start Date',
        DefaultCal: 'Default Calendar',
        AutoNumbering: 'Auto-numbering',
        Prefix: 'Prefix',
        Increment: 'Increment',
        AddHoliday: 'Add Holiday',
        Work: 'Work',
        NonWork: 'Non-Work',
        Apply: 'Apply Changes',
        Close: 'Close',
        AvailableCols: 'Available Columns',
        VisibleCols: 'Visible Columns',
        MoveRight: 'Add >',
        MoveLeft: '< Remove',
        // Login
        Login: 'Login',
        Register: 'Register',
        Username: 'Username / Email',
        Password: 'Password',
        ConfirmPassword: 'Confirm Password',
        PasswordsDoNotMatch: 'Passwords do not match',
        Email: 'Email',
        SignIn: 'Sign In',
        SignUp: 'Sign Up',
        Processing: 'Processing...',
        NoAccount: "Don't have an account? Register",
        HaveAccount: "Already have an account? Login",
        LoginTitle: 'Login',
        RegisterTitle: 'Register',
        // Details Panel & Combined View
        Status: 'Status',
        Relationships: 'Relationships',
        ActivityDetails: 'Activity Details',
        ActivityID: 'Activity ID',
        ActivityName: 'Activity Name',
        ActivityType: 'Activity Type',
        OriginalDuration: 'Original Duration',
        Duration: 'Duration',
        Days: 'Days',
        Remaining: 'Remaining',
        Dates: 'Dates',
        Start: 'Start',
        Finish: 'Finish',
        Float: 'Float',
        TotalFloat: 'Total Float',
        AssignResource: 'Assign Resource',
        Task: 'Task',
        StartMilestone: 'Start Milestone',
        FinishMilestone: 'Finish Milestone',
        ProjectDefault: 'Project Default',
        SelectResource: 'Select Resource...',
        NoActivitySelected: 'No activity selected',
        Dur: 'Dur',
        TF: 'TF',
        Predecessors: 'Predecessors',
        Successors: 'Successors',
        Lag: 'Lag',
        Original: 'Original',
        TotalQuantity: 'Total Quantity',
        UnitsPerTime: 'Units/Time',
        ResourceName: 'Resource Name',
        Type: 'Type',
        BudgetedUnitsTotal: 'Budgeted Units (Total)',
        NoResourcesAssigned: 'No resources assigned',
        Add: 'Add',
        Collapse: 'Collapse',
        NoSuccessors: 'No successors',
        ActID: 'Act ID',
        Name: 'Name',
        // Resources Panel
        ResourceDetails: 'Resource Details',
        AddResource: 'Add Resource',
        DeleteResource: 'Delete Resource',
        ResourceID: 'Resource ID',
        Unit: 'Unit',
        MaxTime: 'Max/Time',
        MaxUnitsTime: 'Max Units/Time',
        MaxIntensity: 'Max Intensity',
        Histogram: 'Histogram',
        Labor: 'Labor',
        Equipment: 'Equipment',
        Material: 'Material',
        SelectResourcePrompt: 'Select a resource',
        ExportCSV: 'Export CSV',
        NoData: 'No data',
        // Zoom
        day: 'day',
        week: 'week',
        month: 'month',
        quarter: 'quarter',
        year: 'year',
        Day: 'Day',
        Week: 'Week',
        Month: 'Month',
        Quarter: 'Quarter',
        Year: 'Year',
        // Context Menu & Actions
        Actions: 'Actions',
        AddActivity: 'Add Activity',
        AddChildWBS: 'Add Child WBS',
        RenumberActivities: 'Renumber Activities',
        RenumberAllActivities: 'Renumber all activities?',
        DeleteWBS: 'Delete WBS',
        DeleteActivity: 'Delete Activity',
        // Default Names & Prompts
        NewTask: 'New Task',
        NewWBS: 'New WBS',
        NewResource: 'New Resource',
        CopySuffix: ' (Copy)',
        LoginToContinue: 'Login to Continue',
        CreateNewProject: 'Create New Project',
        OpenExistingProject: 'Open Existing Project',
        Logout: 'Logout',
        Welcome: 'Welcome',
        Version: 'Version',
        // Cloud & System
        CloudProjects: 'Cloud Projects',
        SystemSettings: 'System Settings',
        ProjectList: 'Project List',
        Load: 'Load',
        Delete: 'Delete',
        NoProjects: 'No projects found',
        SaveProjectToCloud: 'Save Project to Cloud',
        ProjectDescription: 'Description',
        Saving: 'Saving...',
        Loading: 'Loading...',
        SystemConfigSaved: 'System configuration saved',
        SaveSuccess: 'Saved successfully',
        ConfirmDeleteProject: 'Are you sure you want to delete this project?',
        AdminConsole: 'Admin Console',
        UserManagement: 'User Management',
        SaveConfig: 'Save Configuration',
        // New Keys
        ConfirmPassword: 'Confirm Password',
        AppName: 'App Name',
        CopyrightText: 'Copyright Text',
        EnableWatermark: 'Enable Watermark',
        WatermarkText: 'Watermark Text',
        WatermarkFontSize: 'Watermark Font Size',
        WatermarkOpacity: 'Watermark Opacity',
        GanttBarRatio: 'Gantt Bar Ratio',
        AppLogo: 'App Logo URL',
        WatermarkImage: 'Watermark Image URL',
        UserID: 'User ID',
        TypechoGroup: 'Typecho Group',
        Authorization: 'Authorization',
        SubscriptionPlan: 'Subscription Plan',
        PlanLimits: 'Plan Limits',
        ActivitiesLimit: 'Activities Limit',
        CloudProjectsLimit: 'Cloud Projects Limit',
        WatermarkStatus: 'Watermark Status',
        ChangePassword: 'Change Password',
        OldPassword: 'Old Password',
        NewPassword: 'New Password',
        PasswordsDoNotMatch: 'Passwords do not match',
        PasswordChanged: 'Password changed successfully',
        PermissionDenied: 'Permission Denied',
        FeatureRestricted: 'This feature is restricted for your account type.',
        UpgradePrompt: 'Please upgrade your account to access this feature.',
        Unlimited: 'Unlimited',
        Yes: 'Yes',
        No: 'No',
        Trial: 'Trial',
        Licensed: 'Licensed',
        Premium: 'Premium',
        Admin: 'Admin',
        Subscriber: 'Subscriber',
        Contributor: 'Contributor',
        Editor: 'Editor',
        Administrator: 'Administrator',
    },
    zh: {
        File: '文件',
        New: '新建',
        Import: '导入...',
        ImportJSON: '导入 JSON',
        OpenFromCloud: '云端打开...',
        SaveToCloud: '保存到云端...',
        Export: '导出...',
        ExportJSON: '导出 JSON',
        Print: '打印',
        PrintPreview: '打印预览',
        Edit: '编辑',
        Copy: '复制',
        Cut: '剪切',
        Paste: '粘贴',
        AccountSettings: '账户设置...',
        UserPreferences: '用户设置...',
        ColumnsSetup: '栏位设置...',
        Project: '项目',
        Activities: '作业',
        Resources: '资源',
        Calendars: '日历',
        ProjectInfo: '项目信息...',
        System: '系统',
        Configuration: '系统配置',
        Help: '帮助',
        About: '关于',
        General: '常规',
        Defaults: '默认值',
        DateFormat: '日期格式',
        Language: '界面语言',
        InterfaceSize: '界面字体大小',
        CustomFontSize: '自定义字体大小 (px)',
        Small: '小 (紧凑)',
        Medium: '中',
        Large: '大',
        GanttSettings: '甘特图设置',
        ShowVertical: '显示纵向网格',
        VerticalInterval: '网格间距',
        Auto: '自动',
        EveryMonth: '月',
        EveryQuarter: '季度',
        EveryYear: '年',
        ShowHorizontal: '显示横向网格 (作业)',
        ShowWBS: '显示 WBS 分隔线',
        Cancel: '取消',
        Save: '保存',
        Confirm: '确认',
        OK: '确定',
        Success: '成功',
        AccessDenied: '访问拒绝',
        AccessDeniedMsg: '访问被拒绝。请升级您的账户。',
        DeleteWBSPrompt: '删除该 WBS 及其所有作业？',
        UnsavedPrompt: '有未保存的更改，是否继续？',
        PageSetup: '页面设置',
        PaperSize: '纸张大小',
        Orientation: '方向',
        Landscape: '横向',
        Portrait: '纵向',
        PrintNote: '注意：内容将自动缩放以适应页面宽度，支持纵向分页。',
        BatchAssign: '批量分配资源',
        SelectRes: '选择资源',
        UnitsPerDay: '每日用量 / 总量',
        Assign: '分配',
        ProjectSettings: '项目设置',
        ProjectCode: '项目代码',
        ProjectName: '项目名称',
        StartDate: '项目开始日期',
        DefaultCal: '默认日历',
        AutoNumbering: '自动编号',
        Prefix: '前缀',
        Increment: '增量',
        AddHoliday: '添加假期',
        Work: '工作日',
        NonWork: '非工作日',
        Apply: '应用更改',
        Close: '关闭',
        AvailableCols: '可用列',
        VisibleCols: '显示列',
        MoveRight: '添加 >',
        MoveLeft: '< 移除',
        // Login
        Login: '登录',
        Register: '注册',
        Username: '用户名 / 邮箱',
        Password: '密码',
        ConfirmPassword: '确认密码',
        PasswordsDoNotMatch: '两次输入的密码不一致',
        Email: '邮箱',
        SignIn: '登录',
        SignUp: '注册',
        Processing: '处理中...',
        NoAccount: '没有账号？去注册',
        HaveAccount: '已有账号？去登录',
        LoginTitle: '登录',
        RegisterTitle: '注册',
        // Details Panel & Combined View
        Status: '状态',
        Relationships: '紧前/紧后关系',
        ActivityDetails: '作业详情',
        ActivityID: '作业代码',
        ActivityName: '作业名称',
        ActivityType: '作业类型',
        OriginalDuration: '原定工期',
        Duration: '工期',
        Days: '天',
        Remaining: '剩余工期',
        Dates: '日期',
        Start: '开始',
        Finish: '完成',
        Float: '浮时',
        TotalFloat: '总浮时',
        AssignResource: '分配资源',
        Task: '任务',
        StartMilestone: '开始里程碑',
        FinishMilestone: '完成里程碑',
        ProjectDefault: '项目默认',
        SelectResource: '选择资源...',
        NoActivitySelected: '未选择作业',
        Dur: '工期',
        TF: '总浮时',
        Predecessors: '紧前作业',
        Successors: '紧后作业',
        Lag: '延隔',
        Original: '原定',
        TotalQuantity: '总量',
        UnitsPerTime: '单位用量',
        ResourceName: '资源名称',
        Type: '类型',
        BudgetedUnitsTotal: '预算用量(总)',
        NoResourcesAssigned: '未分配资源',
        Add: '添加',
        Collapse: '收起',
        NoSuccessors: '无紧后作业',
        ActID: '作业代码',
        Name: '名称',
        // Resources Panel
        ResourceDetails: '资源详情',
        AddResource: '添加资源',
        DeleteResource: '删除资源',
        ResourceID: '资源代码',
        Unit: '单位',
        MaxTime: '最大/时间',
        MaxUnitsTime: '最大单位/时间',
        MaxIntensity: '最大强度',
        Histogram: '资源直方图',
        Labor: '人力',
        Equipment: '设备',
        Material: '材料',
        SelectResourcePrompt: '请选择一个资源',
        ExportCSV: '导出 CSV',
        NoData: '无数据',
        // Zoom
        day: '天',
        week: '周',
        month: '月',
        quarter: '季',
        year: '年',
        Day: '天',
        Week: '周',
        Month: '月',
        Quarter: '季',
        Year: '年',
        // Context Menu & Actions
        Actions: '操作',
        AddActivity: '添加作业',
        AddChildWBS: '添加子 WBS',
        RenumberActivities: '重新编号',
        RenumberAllActivities: '重新编号所有作业？',
        DeleteWBS: '删除 WBS',
        DeleteActivity: '删除作业',
        // Default Names & Prompts
        NewTask: '新任务',
        NewWBS: '新 WBS',
        NewResource: '新资源',
        CopySuffix: ' (副本)',
        LoginToContinue: '登录以继续',
        CreateNewProject: '创建新项目',
        OpenExistingProject: '打开现有项目',
        Logout: '退出登录',
        Welcome: '欢迎',
        Version: '版本',
        // Cloud & System
        CloudProjects: '云端项目',
        SystemSettings: '系统设置',
        ProjectList: '项目列表',
        Load: '打开',
        Delete: '删除',
        NoProjects: '未找到项目',
        SaveProjectToCloud: '保存项目到云端',
        ProjectDescription: '描述',
        Saving: '保存中...',
        Loading: '加载中...',
        SystemConfigSaved: '系统配置已保存',
        SaveSuccess: '保存成功',
        ConfirmDeleteProject: '确定要删除此项目吗？',
        AdminConsole: '管理控制台',
        UserManagement: '用户管理',
        SaveConfig: '保存配置',
    }
};

export const useTranslation = (lang: 'en' | 'zh') => {
    const [currentLang, setCurrentLang] = useState<'en' | 'zh'>(lang);

    useEffect(() => {
        setCurrentLang(lang);
    }, [lang]);

    const t = (key: keyof typeof translations['en']) => {
        return translations[currentLang][key] || key;
    };

    return { t, lang: currentLang };
};
